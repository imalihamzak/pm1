(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{2313:function(e,t,s){Promise.resolve().then(s.bind(s,7311)),Promise.resolve().then(s.bind(s,3127)),Promise.resolve().then(s.bind(s,8286)),Promise.resolve().then(s.bind(s,8352)),Promise.resolve().then(s.bind(s,7376)),Promise.resolve().then(s.t.bind(s,9485,23))},7311:function(e,t,s){"use strict";s.d(t,{default:function(){return m}});var r=s(7821),a=s(8078),l=s(4542),n=s(8504),o=s(9162),i=s(6214),c=s(8766);function d(e){let{projectId:t,initialData:s,onClose:l,onSuccess:n}=e,[o,c]=(0,a.useState)(s),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)({message:"",type:"info",isVisible:!1}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";x({message:e,type:t,isVisible:!0})},p=async e=>{e.preventDefault(),u(!0);try{let e=await fetch("/api/projects/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n("Project updated successfully!"),l();else{let t=await e.json();h(t.error||"Failed to update project","error")}}catch(e){console.error("Error updating project:",e),h("Error updating project","error")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4 relative z-[101]",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity z-[100]",onClick:l}),(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-2xl w-full p-6 border border-slate-200 z-[102]",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Edit Project"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),(0,r.jsx)("input",{type:"text",required:!0,value:o.name,onChange:e=>c({...o,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:o.description,onChange:e=>c({...o,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Major Goal *"}),(0,r.jsx)("textarea",{required:!0,value:o.majorGoal,onChange:e=>c({...o,majorGoal:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:o.status,onChange:e=>c({...o,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"completed",children:"Completed"}),(0,r.jsx)("option",{value:"on-hold",children:"On Hold"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})]})]})]}),(0,r.jsx)(i.Z,{message:m.message,type:m.type,isVisible:m.isVisible,onClose:()=>x({...m,isVisible:!1})})]})}function u(e){let{projectId:t,projectName:s,projectDescription:l,projectMajorGoal:u,projectStatus:m,canEdit:x}=e,h=(0,n.useRouter)(),{data:p}=(0,o.useSession)(),[g,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[N,k]=(0,a.useState)({message:"",type:"info",isVisible:!1}),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";k({message:e,type:t,isVisible:!0})},C=async()=>{v(!0);try{let e=await fetch("/api/projects/".concat(t),{method:"DELETE"});if(e.ok)w("Project deleted successfully!","success"),setTimeout(()=>{h.push("/projects")},1e3);else{let t=await e.json();w(t.error||"Failed to delete project","error"),y(!1)}}catch(e){console.error("Error deleting project:",e),w("Error deleting project","error"),y(!1)}finally{v(!1)}};return x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>b(!0),className:"p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",title:"Edit Project",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,r.jsx)("button",{onClick:()=>y(!0),className:"p-2.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-gray-200",title:"Delete Project",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),g&&(0,r.jsx)(d,{projectId:t,initialData:{name:s,description:l||"",majorGoal:u,status:m},onClose:()=>{b(!1),h.refresh()},onSuccess:e=>{w(e,"success"),h.refresh()}}),(0,r.jsx)(c.Z,{isOpen:f,title:"Delete Project",message:"Are you sure you want to delete this project? All milestones and related data will be deleted. This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:j,onConfirm:C,onCancel:()=>y(!1)}),(0,r.jsx)(i.Z,{message:N.message,type:N.type,isVisible:N.isVisible,onClose:()=>k({...N,isVisible:!1})})]}):null}function m(e){let{projectId:t,projectName:s,projectDescription:o,projectMajorGoal:i,projectStatus:c,canEdit:d}=e,m=(0,n.usePathname)(),[x,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{h(!1)},[m]),(0,r.jsxs)("div",{className:"flex items-start gap-3 flex-shrink-0",children:[d&&(0,r.jsx)(u,{projectId:t,projectName:s,projectDescription:o,projectMajorGoal:i,projectStatus:c,canEdit:d}),(0,r.jsxs)(l.default,{href:"/projects/".concat(t,"/milestones/new"),onClick:()=>h(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium ".concat(x?"opacity-75 cursor-wait":""),children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,r.jsx)("span",{children:"Add Milestone"}),x&&(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})]})}},3127:function(e,t,s){"use strict";s.d(t,{default:function(){return o}});var r=s(7821),a=s(8078),l=s(8504),n=s(6214);function o(e){let{milestoneId:t,currentStatus:s,isCurrent:o,canEdit:i}=e,c=(0,l.useRouter)(),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)({message:"",type:"info",isVisible:!1}),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";p({message:e,type:t,isVisible:!0})},b=async()=>{if("completed"===s){g("Milestone is already completed","info");return}u(!0);try{let e=await fetch("/api/milestones/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"completed"})});if(e.ok)g("Milestone marked as completed!","success"),c.refresh();else{let t=await e.json();g(t.error||"Failed to update milestone","error")}}catch(e){console.error("Error updating milestone:",e),g("Error updating milestone","error")}finally{u(!1)}},f=async()=>{x(!0);try{let e=await fetch("/api/milestones/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isCurrent:!o})});if(e.ok)g(o?"Milestone removed from current milestones":"Milestone marked as current!","success"),c.refresh();else{let t=await e.json();g(t.error||"Failed to update milestone","error")}}catch(e){console.error("Error updating milestone:",e),g("Error updating milestone","error")}finally{x(!1)}};return i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:["completed"!==s&&(0,r.jsx)("button",{onClick:b,disabled:d||m,className:"px-3 py-1.5 text-xs font-medium text-green-700 bg-green-50 hover:bg-green-100 border border-green-200 rounded-lg transition-colors whitespace-nowrap disabled:opacity-50",children:d?"Updating...":"Mark Complete"}),(0,r.jsx)("button",{onClick:f,disabled:d||m,className:"px-3 py-1.5 text-xs font-medium border rounded-lg transition-colors whitespace-nowrap disabled:opacity-50 ".concat(o?"text-blue-700 bg-blue-50 hover:bg-blue-100 border-blue-200":"text-gray-700 bg-gray-50 hover:bg-gray-100 border-gray-200"),children:m?"Updating...":o?"Remove Current":"Set Current"})]}),(0,r.jsx)(n.Z,{message:h.message,type:h.type,isVisible:h.isVisible,onClose:()=>p({...h,isVisible:!1})})]}):null}},8286:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var r=s(7821),a=s(8078),l=s(8504),n=s(6214);function o(e){let{progressId:t,initialData:s,onClose:l,onSuccess:o}=e,[i,c]=(0,a.useState)(s.completedThisWeek),[d,u]=(0,a.useState)(s.plannedForNextWeek),[m,x]=(0,a.useState)(s.taskDelays||i.map(e=>({task:e,isCompleted:!1,delayReasons:[]}))),[h,p]=(0,a.useState)(s.goalsAchieved),[g,b]=(0,a.useState)(s.notes||""),[f,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)({message:"",type:"info",isVisible:!1}),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";v({message:e,type:t,isVisible:!0})},k=e=>{c(i.filter((t,s)=>s!==e)),x(m.filter((t,s)=>s!==e))},w=(e,t)=>{let s=[...i];s[e]=t,c(s);let r=[...m];r[e]?r[e]={...r[e],task:t}:r[e]={task:t,isCompleted:!1,delayReasons:[]},x(r)},C=e=>{u(d.filter((t,s)=>s!==e)),x(m.filter((t,s)=>s!==e))},D=(e,t)=>{let s=[...d];s[e]=t,u(s)},S=(e,t)=>{let s=[...m];s[e]||(s[e]={task:i[e]||"",isCompleted:!1,delayReasons:[]}),s[e]={...s[e],isCompleted:t},t&&(s[e].delayReasons=[],s[e].delayReasonText=void 0),x(s)},T=(e,t)=>{let s=[...m];s[e]||(s[e]={task:i[e]||"",isCompleted:!1,delayReasons:[]});let r=s[e].delayReasons||[];r.includes(t)?(s[e].delayReasons=r.filter(e=>e!==t),"other"===t&&(s[e].delayReasonText=void 0)):s[e].delayReasons=[...r,t],x(s)},R=(e,t)=>{let s=[...m];s[e]||(s[e]={task:i[e]||"",isCompleted:!1,delayReasons:[]}),s[e]={...s[e],delayReasonText:t},x(s)},M=async e=>{e.preventDefault(),y(!0);try{let e=await fetch("/api/weekly-progress/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completedThisWeek:JSON.stringify(i.filter(e=>""!==e.trim())),plannedForNextWeek:JSON.stringify(d.filter(e=>""!==e.trim())),taskDelays:JSON.stringify(m.filter((e,t)=>{var s;return(null===(s=i[t])||void 0===s?void 0:s.trim())!==""})),goalsAchieved:h,notes:g.trim()||null})});if(e.ok)N("Weekly progress updated successfully!","success"),setTimeout(()=>{o("Weekly progress updated successfully!"),l()},1e3);else{let t=await e.json();N(t.error||"Failed to update weekly progress","error")}}catch(e){console.error("Error updating weekly progress:",e),N("Error updating weekly progress","error")}finally{y(!1)}};return(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex min-h-screen items-start justify-center pt-20 pb-8 px-4 relative z-[101]",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity z-[100]",onClick:l}),(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full p-6 max-h-[calc(100vh-8rem)] overflow-y-auto border border-slate-200 z-[102] [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Edit Weekly Progress"}),(0,r.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completed This Week"}),(0,r.jsxs)("div",{className:"space-y-3",children:[i.map((e,t)=>{let s=m[t]||{task:e,isCompleted:!1,delayReasons:[]},a=s.isCompleted||!1,l=s.delayReasons||[];return(0,r.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>w(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",placeholder:"Task ".concat(t+1)}),(0,r.jsx)("button",{type:"button",onClick:()=>k(t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Remove"})]}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:a,onChange:e=>S(t,e.target.checked),className:"mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Task completed"})]})}),!a&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-300",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delay Reason (if not completed):"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.includes("client"),onChange:()=>T(t,"client"),className:"mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Delayed by client"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.includes("developer"),onChange:()=>T(t,"developer"),className:"mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Delayed by developer"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.includes("other"),onChange:()=>T(t,"other"),className:"mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Other reason"})]}),l.includes("other")&&(0,r.jsx)("textarea",{value:s.delayReasonText||"",onChange:e=>R(t,e.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please justify the reason for delay...",rows:2})]})]})]},t)}),(0,r.jsx)("button",{type:"button",onClick:()=>{c([...i,""]),x([...m,{task:"",isCompleted:!1,delayReasons:[]}])},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"+ Add Task"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned For Next Week"}),(0,r.jsxs)("div",{className:"space-y-2",children:[d.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>D(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Task ".concat(t+1)}),(0,r.jsx)("button",{type:"button",onClick:()=>C(t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Remove"})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>{u([...d,""]),x([...m,{task:"",isCompleted:!1}])},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"+ Add Task"})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Goals Achieved"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,r.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:opacity-50",children:f?"Saving...":"Save Changes"})]})]})]})]}),(0,r.jsx)(n.Z,{message:j.message,type:j.type,isVisible:j.isVisible,onClose:()=>v({...j,isVisible:!1})})]})}var i=s(3892);function c(e){let{progress:t,canEdit:s,projectStartDate:n}=e,c=(0,l.useRouter)(),[d,u]=(0,a.useState)(!1),m=new Date(t.weekStartDate),x=new Date(t.weekEndDate),h=(0,i.P_)(new Date(n),m),p=(0,i.lT)(m),g=JSON.parse(t.completedThisWeek||"[]"),b=JSON.parse(t.plannedForNextWeek||"[]"),f=t.taskDelays?JSON.parse(t.taskDelays):[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 hover:border-gray-300 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["Week ",h," (",p,")"]}),(0,r.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(t.goalsAchieved?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t.goalsAchieved?"✓ Achieved":"✗ Not Achieved"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,i.p6)(m)," - ",(0,i.p6)(x)]})]}),s&&(0,r.jsx)("button",{onClick:()=>u(!0),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Edit Progress",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),(g.length>0||b.length>0)&&(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[g.length>0&&(0,r.jsxs)("div",{className:"bg-green-50 rounded border border-green-200 p-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-xs font-semibold text-green-700 uppercase",children:"Completed"})]}),(0,r.jsxs)("ul",{className:"space-y-1",children:[g.slice(0,2).map((e,t)=>{var s,a;let l=f.find(t=>t.task===e),n=null===(a=null==l?void 0:l.isCompleted)||void 0===a||a,o=l&&!n&&l.delayReasons&&l.delayReasons.length>0;return(0,r.jsx)("li",{className:"text-xs text-gray-700",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-1.5 mt-0.5 ".concat(n?"text-green-600":o?"text-red-600":"text-yellow-600"),children:n?"✓":o?"⚠":"○"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("span",{className:n?"":"text-gray-600",children:e}),o&&(0,r.jsxs)("div",{className:"mt-1 ml-4 text-xs text-red-600",children:[(0,r.jsx)("span",{className:"font-medium",children:null===(s=l.delayReasons)||void 0===s?void 0:s.map((e,t)=>({client:"Delayed by client",developer:"Delayed by developer",other:"Other reason"})[e]||e).join(", ")}),l.delayReasonText&&(0,r.jsx)("span",{className:"block mt-0.5 text-gray-600",children:l.delayReasonText})]})]})]})},t)}),g.length>2&&(0,r.jsxs)("li",{className:"text-xs text-gray-500",children:["+",g.length-2," more"]})]})]}),b.length>0&&(0,r.jsxs)("div",{className:"bg-blue-50 rounded border border-blue-200 p-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,r.jsx)("span",{className:"text-xs font-semibold text-blue-700 uppercase",children:"Planned"})]}),(0,r.jsxs)("ul",{className:"space-y-1",children:[b.slice(0,2).map((e,t)=>(0,r.jsxs)("li",{className:"text-xs text-gray-700 flex items-start",children:[(0,r.jsx)("span",{className:"text-blue-600 mr-1.5 mt-0.5",children:"•"}),(0,r.jsx)("span",{className:"line-clamp-1",children:e})]},t)),b.length>2&&(0,r.jsxs)("li",{className:"text-xs text-gray-500",children:["+",b.length-2," more"]})]})]})]}),t.notes&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,r.jsx)("p",{className:"text-xs text-gray-600 italic line-clamp-2",children:t.notes})})]}),d&&(0,r.jsx)(o,{progressId:t.id,initialData:{completedThisWeek:g,plannedForNextWeek:b,taskDelays:f,goalsAchieved:t.goalsAchieved,notes:t.notes},onClose:()=>u(!1),onSuccess:e=>{c.refresh()}})]})}},8352:function(e,t,s){"use strict";s.d(t,{default:function(){return o}});var r=s(7821),a=s(8078),l=s(4542),n=s(8504);function o(e){let{href:t,children:s,className:o="",variant:i="link"}=e,c=(0,n.usePathname)(),[d,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{u(!1)},[c]),(0,r.jsxs)(l.default,{href:t,onClick:()=>u(!0),className:"".concat("button"===i?"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg transition-colors":""," ").concat("link"===i?"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium":""," ").concat(o," ").concat(d?"opacity-75 cursor-wait pointer-events-none":""),children:[s,d&&(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin ml-1",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})}},8766:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7821);function a(e){let{isOpen:t,title:s,message:a,confirmText:l="Confirm",cancelText:n="Cancel",onConfirm:o,onCancel:i,type:c="info",isLoading:d=!1}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4 relative z-[101]",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity z-[100]",onClick:i}),(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all z-[102]",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s}),(0,r.jsx)("p",{className:"text-gray-600",children:a})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,r.jsx)("button",{onClick:i,disabled:d,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n}),(0,r.jsx)("button",{onClick:o,disabled:d,className:"px-4 py-2 text-white ".concat("danger"===c?"bg-red-600 hover:bg-red-700":"warning"===c?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700"," rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),children:d?"Deleting...":l})]})]})]})}):null}},7376:function(e,t,s){"use strict";s.d(t,{default:function(){return i}});var r=s(7821),a=s(8078),l=s(4542),n=s(8504),o=s(9162);function i(){var e,t,s;let i=(0,n.usePathname)(),{data:c}=(0,o.useSession)(),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),h=()=>{u(!1)},p=e=>{x(e),h()};(0,a.useEffect)(()=>{m&&x(null)},[i]);let g=e=>{let{href:t,children:s,className:a=""}=e,n=i===t||"/"!==t&&(null==i?void 0:i.startsWith(t)),o=m===t;return(0,r.jsxs)(l.default,{href:t,onClick:()=>p(t),className:"".concat(a," inline-flex items-center gap-2 ").concat(n?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100"," ").concat(o?"opacity-75 cursor-wait":""),children:[(0,r.jsx)("span",{children:s}),o&&(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})};return(0,r.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2 sm:space-x-3 group",onClick:h,children:[(0,r.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-200",children:(0,r.jsx)("span",{className:"text-white font-bold text-base sm:text-lg",children:"S"})}),(0,r.jsx)("span",{className:"text-base sm:text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Softech Inc"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[(0,r.jsx)(g,{href:"/",className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm",children:"Home"}),(0,r.jsx)(g,{href:"/projects",className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm",children:"Projects"}),(0,r.jsx)(g,{href:"/reminders",className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm",children:"Reminders"}),c&&(0,r.jsxs)("div",{className:"ml-4 flex items-center space-x-3 border-l border-gray-200 pl-4",children:[(0,r.jsx)("div",{className:"hidden lg:block text-sm text-gray-600",children:(0,r.jsx)("div",{className:"font-medium text-gray-900 truncate max-w-[150px]",children:null===(e=c.user)||void 0===e?void 0:e.email})}),(0,r.jsx)("button",{onClick:()=>(0,o.signOut)({callbackUrl:"/login"}),className:"px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:"Sign Out"})]})]}),(0,r.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[c&&(0,r.jsx)("div",{className:"text-xs text-gray-600 truncate max-w-[100px] hidden sm:block",children:null===(t=c.user)||void 0===t?void 0:t.email}),(0,r.jsx)("button",{onClick:()=>{u(!d)},className:"p-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle mobile menu",children:d?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),d&&(0,r.jsx)("div",{className:"md:hidden border-t border-gray-200 py-4 animate-in slide-in-from-top",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsx)(g,{href:"/",className:"px-4 py-3 rounded-lg font-medium transition-all duration-200",children:"Home"}),(0,r.jsx)(g,{href:"/projects",className:"px-4 py-3 rounded-lg font-medium transition-all duration-200",children:"Projects"}),(0,r.jsx)(g,{href:"/reminders",className:"px-4 py-3 rounded-lg font-medium transition-all duration-200",children:"Reminders"}),c&&(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-600 mb-2",children:(0,r.jsx)("div",{className:"font-medium text-gray-900 truncate",children:null===(s=c.user)||void 0===s?void 0:s.email})}),(0,r.jsx)("button",{onClick:()=>{h(),(0,o.signOut)({callbackUrl:"/login"})},className:"w-full text-left px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:"Sign Out"})]})]})})]})})}},6214:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(7821),a=s(8078);function l(e){let{message:t,type:s="info",isVisible:l,onClose:n,duration:o=3e3}=e;return((0,a.useEffect)(()=>{if(l){let e=setTimeout(()=>{n()},o);return()=>clearTimeout(e)}},[l,o,n]),l)?(0,r.jsx)("div",{className:"fixed top-20 right-4 z-50 animate-in slide-in-from-right",children:(0,r.jsxs)("div",{className:"".concat("success"===s?"bg-green-500":"error"===s?"bg-red-500":"bg-blue-500"," text-white px-6 py-4 rounded-lg shadow-2xl flex items-center space-x-3 min-w-[300px] max-w-md"),children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("p",{className:"font-medium",children:t})}),(0,r.jsx)("button",{onClick:n,className:"text-white hover:text-gray-200 transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}},3892:function(e,t,s){"use strict";function r(){let e=new Date,t=e.getDay(),s=new Date(e);return s.setDate(e.getDate()+(0===t?0:-t)),s.setHours(0,0,0,0),s}function a(){let e=r(),t=new Date(e);return t.setDate(e.getDate()+6),t.setHours(23,59,59,999),t}function l(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,s=new Date(e);s.setHours(0,0,0,0);let r=new Date(t);r.setHours(0,0,0,0);let a=s.getDay(),l=new Date(s);l.setDate(s.getDate()-a),l.setHours(0,0,0,0);let n=r.getDay(),o=new Date(r);return o.setDate(r.getDate()-n),o.setHours(0,0,0,0),Math.max(1,Math.floor((o.getTime()-l.getTime())/6048e5)+1)}function o(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);let r=new Date(Date.UTC(t.getUTCFullYear(),0,1)),a=Math.ceil(((t.getTime()-r.getTime())/864e5+1)/7),l=t.getUTCFullYear();return"".concat(l,"-W").concat(a.toString().padStart(2,"0"))}s.d(t,{P_:function(){return n},RC:function(){return a},lT:function(){return o},m_:function(){return r},p6:function(){return l}})}},function(e){e.O(0,[162,35,115,364,744],function(){return e(e.s=2313)}),_N_E=e.O()}]);